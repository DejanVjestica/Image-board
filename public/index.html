<!doctype html>
<html>
<head>
    <title>Image Board</title>
	<link rel="stylesheet" href="/styles.css">
</head>
<body>
	<!-- Vue app -->
	<div id="main">
		<!-- header -->
		<h1>{{title}}</h1>
		<h2>{{heading}}</h2>
		<!-- Upload file form -->
		<section class="uploadFIle">
			<!-- title -->
			<input v-model="imgFormInfo.title" type="text" name="title" placeholder="title">
			<!-- description -->
			<input v-model="imgFormInfo.description" type="text" name="description" placeholder="description">
			<!-- username -->
			<input v-model="imgFormInfo.username" type="text" name="username" placeholder="username">
			<!-- upload file -->
			<input v-on:change="selectFile" type="file" name="file">
			<!-- submit button -->
			<input v-on:click="uploadImage" type="submit" value="Submit">
		</section>
		<!-- display images -->
		<div class="flexContainer" v-if="images.length > 0">
			<div class="image" v-for="image in images" >
				<img v-bind:src="image.url" v-on:click="openModal(image.id)">
				<h3>{{image.title}}</h3>
				<p>{{image.description}}</p>
				<p>Uploaded by {{image.username}}</p>
			</div>
		</div>
		<!-- imagemodal -->
		<modal-component
			v-if="currentImageId"
			v-bind:id="currentImageId"
			v-on:close="closeModal"
		></modal-component>
		<!-- <modal-component></modal-component> -->
		<!-- <imagemodal-component></imagemodal-component> -->
	</div>
	<!-- vue components -->
	<!-- <script class="imagemodal-template" type="text/x-template">
		<div>
		    <h1>{{ heading }}</h1>
		    <p>This is a component!!!</p>
		</div>
	</script> -->
	<script id="modal-template" type="text/x-template">
		<div class="modal">

		    <!-- <h1>{{ heading }}</h1> -->
			<img v-bind:src="image.url" >
			<p>{{image.title}}</p>
			<p>{{image.username}}</p>
			<p>{{image.created_at}}</p>
			<button v-on:click="closeModal">X</button>

			<!-- comments input -->
			<aside class="comments">
				<input v-model="commentForm.comment" type="text" name="comment" placeholder="comment">
				<input v-model="commentForm.username" type="text" name="username" placeholder="username">
				<!-- submit button -->
				<input v-on:click="uploadComment" type="submit" value="Submit">
			</aside>
			<div class="flexContainer" v-if="comments.length > 0">
				<div class="comments" v-for="comment in comments" >
					<!-- <img v-bind:src="image.url" v-on:click="openModal(image.id)"> -->
					<h3>{{comment.comment}}</h3>
					<p>{{comment.username}}</p>
					<p>Created at:  {{comment.created_at}}</p>
				</div>
			</div>
			<!-- <p>{{commentForm.comment}}</p>
			<p>{{commentForm.username}}</p> -->
		</div>
	</script>
	<!-- js scripts -->
    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="/js/script.js"></script>
</body>
</html>
